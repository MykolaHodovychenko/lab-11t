# Лабораторна робота 9. "Патерн Ітератор. Потоки даних в Java"

## Цілі лабораторної роботи

- вивчити принципи роботи патерну "Ітератор"
- навчитися обробляти дані за допомогою потоків даних

## Хід роботи

Лабораторна робота містить 8 простих та 8 складних завдань.

**Усі завдання повинні бути виконані з використанням Streams API.**

### Прості завдання

#### Завдання 1

Реалізуйте метод `doubling()`, який приймає на вхід список цілих чисел та повертає новий список, де кожне значення помножено на 2.

Приклад:

```
doubling([1, 2, 3]) -> [2, 4, 6]
doubling([6, 8, 6, 8, -1]) -> 12, 16, 12, 16, -2]
doubling([]) -> []
```

#### Завдання 2

Реалізуйте метод `square()`, який приймає на вхід список цілих чисел та повертає новий список, де кожне значення помножено само на себе.

Приклад:

```
square([1, 2, 3]) → [1, 4, 9]
square([6, 8, -6, -8, 1]) → [36, 64, 36, 64, 1]
square([]) → []
```

#### Завдання 3

Реалізуйте метод `moreY()`, який приймає на вхід список рядків та повертає новий список, у якому до кожного рядка на початку та в кінці доданий символ `y`.

Приклад:

```
moreY(["a", "b", "c"]) → ["yay", "yby", "ycy"]
moreY(["hello", "there"]) → ["yhelloy", "ytherey"]
moreY(["yay"]) → ["yyayy"]
```
#### Завдання 4

Реалізуйте метод `noNeg()`, який приймає на вхід список цілих чисел та повертає новий список, до якого не входять числа менше `0`.

Приклад:

```
noNeg([1, -2]) → [1]
noNeg([-3, -3, 3, 3]) → [3, 3]
noNeg([-1, -1, -1]) → []
```

#### Завдання 5

Реалізуйте метод `no9()`, який приймає на вхід список цілих чисел та повертає новий список, до якого не входять числа, які закінчуються на `9`.

Приклад:

```
no9([1, 2, 19]) → [1, 2]
no9([9, 19, 29, 3]) → [3]
no9([1, 2, 3]) → [1, 2, 3]
```

#### Завдання 6

Реалізуйте метод `noZ()`, який приймає на вхід список цілих чисел та повертає новий список, до якого не входять рядки, які містять літеру `z`.

Приклад:

```
noZ(["aaa", "bbb", "aza"]) → ["aaa", "bbb"]
noZ(["hziz", "hzello", "hi"]) → ["hi"]
noZ(["hello", "howz", "are", "youz"]) → ["hello", "are"]
```

#### Завдання 7

Реалізуйте метод `refinedStrings()`, який приймає список рядків на вході та повертає новий список, який не містить однакових рядків і та рядки відсортовані у порядку зменшення довжини рядку.

Приклад:

```
refinedStrings(["aa", "c", "aa", "bbb"]) → ["bbb", "aa", "c"]
refinedStrings(["aa"]) → ["aa"]
refinedStrings([]) → []
```

#### Завдання 8

Реалізуйте метод `flatten()`, який приймає на вхід список рядків виду `Ім'я Прізвище` та повертає новий список, у якому містяться окремо ім'я та прізвище з рядків вихідного списку. Розбиття рядку відбувається за символом пробілу між ім'ям та прізвищем.

Підказка: використовуйте `flatmap()`, у якому розбивайте рядок на масив рядків та беріть `stream()` цього масиву. Також, ви можете спочатку перетворити кожен рядок на масив рядків, після чого застосувати `flatmap()`.

Приклад:

```
flatten(["John Wick", "John Snow", "AlexMurphy"]) → ["John", "Wick", "John", "Snow", "AlexMurphy"]
flatten(["Peter Parker"]) → ["Peter", "Parker"]
flatten(["NeroWolfe"]) → ["NeroWolfe"]
flatten([]) → []
```

### Складні завдання

Дані наступні колекції з даними:

Список клієнтів (`customers`)

```java
public class Customer {

    private Integer id;
    private String name;
    private Integer tier;

    // Конструктори та методи
}
```

Cписок замовлень (`orders`)

```java
public class Order {

    private Integer id;
    private LocalDate orderDate;
    private LocalDate deliveryDate;
    private String status;
    private Customer customer;
    private Set<Product> products;

    // Конструктори та методи
}
```

Cписок товарів (`products`)

```java
public class Product {
    private Integer id;
    private String name;
    private String category;
    private Double price;
    private Set<Order> orders;

    // Конструктори та методи
}
```

#### Завдання 1

Реалізуйте метод `getBooksWithPrice()`, який повертає список товарів, які належать до категорії `Books` з ціною більше 100 (використовуйте фільтрацію).

#### Завдання 2

Реалізуйте метод `getOrdersWithBabyProducts()`, який повертає список замовлень, які містять товари з категорії `Baby` (фільтруйте список замовлень за умовою наявності товарів з категорією `Baby`).

#### Завдання 3

Реалізуйте метод `applyDiscountToToys()`, який знаходить список товарів з категорією `Toys` та застосовує знижку 50% на ціну товару, після чого повертає список ціх товарів (використовуйте фільтрацію, після чого для кожного елементу встановіть нову ціну).

#### Завдання 4

Реалізуйте метод `getCheapestBook()`, який знаходить найбільш дешевий товар з категорії `Books` (фільтруйте товари, після чого сортуйте список за ціною та повертайте перший елемент зі списку).

#### Завдання 5

Реалізуйте метод `getRecentOrders()`, який знаходить три останні замовлення (вони зроблені найближче до поточної дати) (сортуйте замовлення за датою у зворотньому порядку та обмежуйте список трьома першими елементами).

#### Завдання 6

Реалізуйте метод `getBooksStats()`, який повертає статистику для цін списку всіх товарів категорії `Books` (фільтруйте список всіх товарів та перетворюйте об'єкт товару на значення ціни товару).

#### Завдання 7

Реалізуйте метод `getOrdersProductsMap()`, який повертає відображення, де ключом є `id` замовлення, а значенням є кількість товарів в замовленні.

#### Завдання 8

Реалізуйте метод `getProductsByCategory()`, який повертає товари, згруповані за категорією. Вихідний контейнер представляє собою відображення, у якому ключем є назва категорії, а значенням є список товарів, які належать до даної категорії (використовуйте метод `groupingBy` класу `Collectors`).
